<table>
  <col width="60%">
  <col width="15%">
  <col width="15%">
  <col width="10%">
  <tr>
    <th id="task_name">Task</th>
    <th id="person_name">Person</th>
    <th></th>
  </tr>
    <% @tasks.each do |task| %>
      <tr>
        <td >
          <%= link_to "Task: #{task.name}", "/tasks/#{task.id}" %>
        </td>
        <td>
          <% if !task.person.nil? %>
            <%= link_to "#{task.person.name}", "/people/#{task.person.id}" %>
          <% end %>
        </td>
        <td>
          <% if !task.completed_at.nil? %>
            <%= task.completed_at.strftime("%d/%m/%Y %H:%M") %>
          <<% else %>
            <%= button_to "Completed", {action: 'set_completed', id: task.id}, method: :patch %>
          <% end %>
        </td>
        <td>
          <%= button_to "Delete", {action: 'destroy', id: task.id }, method: :delete, data: { confirm: "Are you sure?"} %>
        </td>
        <td>
          <%= button_to "Update", {action: 'edit', id: task.id }, method: :get %>
        </td>
      </tr>
    <% end %>
</table>
